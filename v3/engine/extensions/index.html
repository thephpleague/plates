<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <title>Extensions - Plates</title>
    
    
        <meta name="description" content="Plates is a Twig inspired, native PHP template system that brings modern template language functionality to native PHP templates.">
    
    
    
        <link rel="icon" type="image/x-icon" href="/v3/favicon.ico" />
    
    
        <link rel="apple-touch-icon-precomposed" href="/v3/apple-touch-icon-precomposed.png">
    
    <link rel="stylesheet" href="http://theme.thephpleague.com/css/all.css">
    <link rel="stylesheet" href="/v3/css/custom.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
</head>
<body>

<a href="https://github.com/thephpleague/plates" class="github">
    <img src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
</a>

<section class="all_packages">
    <a href="http://thephpleague.com/">
        <img src="http://theme.thephpleague.com/img/loep_logo.png" width="195" height="200" alt="The League of Extraordinary Packages">
    </a>
    <h2>Our Packages:</h2>
    <ul>
        <!-- Loaded via JavaScript -->
    </ul>
</section>

<header>
    <a class="logo" href="/">
        
            <span class="icon">
                <img src="/v3/logo.png" width="50" height="40" alt="Plates - Native PHP Templates">
            </span>
        
        <span class="name">Plates</span>
        <span class="tagline">Native PHP Templates</span>
    </a>
    <a href="http://thephpleague.com/" class="league">
        Presented by The League of Extraordinary Packages
    </a>
</header>

<input type="checkbox" id="menu">
<label for="menu" onclick>
    <div class="closed">&#9776; Menu</div>
    <div class="open">&#9776; Hide Menu</div>
</label>

<main>
    <menu>
        
        <div class="version-select">
            <select class="version-select select2" style="width: 100%" data-minimum-results-for-search="5">
            
                
                <option value="v4">
                
                    V4 Pre-alpha
                </option>
            
                
                <option value="v3" selected="selected">
                
                    V3
                </option>
            
            </select>
        </div>
        
        
            <h2>Getting Started</h2>
            <ul>
                
                    <li >
                        <a href="/v3/">Introduction</a>
                    </li>
                
                    <li >
                        <a href="/v3/simple-example/">Simple example</a>
                    </li>
                
                    <li >
                        <a href="/v3/installation/">Installation</a>
                    </li>
                
                    <li >
                        <a href="/v3/changelog/">Changelog</a>
                    </li>
                
            </ul>
        
            <h2>The Engine</h2>
            <ul>
                
                    <li >
                        <a href="/v3/engine/">Overview</a>
                    </li>
                
                    <li >
                        <a href="/v3/engine/file-extensions/">File extensions</a>
                    </li>
                
                    <li >
                        <a href="/v3/engine/folders/">Folders</a>
                    </li>
                
                    <li >
                        <a href="/v3/engine/functions/">Functions</a>
                    </li>
                
                    <li class="selected">
                        <a href="/v3/engine/extensions/">Extensions</a>
                    </li>
                
            </ul>
        
            <h2>Templates</h2>
            <ul>
                
                    <li >
                        <a href="/v3/templates/">Overview</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/data/">Data</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/functions/">Functions</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/nesting/">Nesting</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/layouts/">Layouts</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/sections/">Sections</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/inheritance/">Inheritance</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/escaping/">Escaping</a>
                    </li>
                
                    <li >
                        <a href="/v3/templates/syntax/">Syntax</a>
                    </li>
                
            </ul>
        
            <h2>Extensions</h2>
            <ul>
                
                    <li >
                        <a href="/v3/extensions/asset/">Asset</a>
                    </li>
                
                    <li >
                        <a href="/v3/extensions/uri/">URI</a>
                    </li>
                
                    <li >
                        <a href="/v3/extensions/community/">Community</a>
                    </li>
                
            </ul>
        
    </menu>
    <article>
        <h1 id="extensions">Extensions</h1>

<p>Creating extensions couldnâ€™t be easier, and can really make Plates sing for your specific project. Start by creating a class that implements <code class="highlighter-rouge">\League\Plates\Extension\ExtensionInterface</code>. Next, register your template <a href="/v3/engine/functions/">functions</a> within a <code class="highlighter-rouge">register()</code> method.</p>

<h2 id="simple-extensions-example">Simple extensions example</h2>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nx">League\Plates\Engine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">League\Plates\Extension\ExtensionInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ChangeCase</span> <span class="k">implements</span> <span class="nx">ExtensionInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">register</span><span class="p">(</span><span class="nx">Engine</span> <span class="nv">$engine</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$engine</span><span class="o">-&gt;</span><span class="na">registerFunction</span><span class="p">(</span><span class="s1">'uppercase'</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">'uppercaseString'</span><span class="p">]);</span>
        <span class="nv">$engine</span><span class="o">-&gt;</span><span class="na">registerFunction</span><span class="p">(</span><span class="s1">'lowercase'</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">'lowercaseString'</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">uppercaseString</span><span class="p">(</span><span class="nv">$var</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$var</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">lowercaseString</span><span class="p">(</span><span class="nv">$var</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">strtolower</span><span class="p">(</span><span class="nv">$var</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To use this extension in your template, simply call your new functions:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>Hello, <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">uppercase</span><span class="p">(</span><span class="nv">$name</span><span class="p">))</span><span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<p>They can also be used in a <a href="/v3/templates/functions/#batch-function-calls">batch</a> compatible function:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>Hello <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="s1">'uppercase'</span><span class="p">)</span><span class="o">&lt;/</span><span class="nx">h1</span><span class="o">&gt;</span>
</code></pre></div></div>

<h2 id="single-method-extensions">Single method extensions</h2>

<p>Alternatively, you may choose to expose the entire extension object to the template using a single function. This can make your templates more legible and also reduce the chance of conflicts with other extensions.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nx">League\Plates\Engine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">League\Plates\Extension\ExtensionInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ChangeCase</span> <span class="k">implements</span> <span class="nx">ExtensionInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">register</span><span class="p">(</span><span class="nx">Engine</span> <span class="nv">$engine</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$engine</span><span class="o">-&gt;</span><span class="na">registerFunction</span><span class="p">(</span><span class="s1">'case'</span><span class="p">,</span> <span class="p">[</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">'getObject'</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getObject</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">upper</span><span class="p">(</span><span class="nv">$var</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$var</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">lower</span><span class="p">(</span><span class="nv">$var</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">strtolower</span><span class="p">(</span><span class="nv">$var</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To use this extension in your template, first call the primary function, then the secondary functions:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>Hello, <span class="cp">&lt;?=</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">e</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">case</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">upper</span><span class="p">(</span><span class="nv">$name</span><span class="p">))</span><span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<h2 id="loading-extensions">Loading extensions</h2>

<p>To enable an extension, load it into the <a href="/v3/engine/">engine</a> object using the <code class="highlighter-rouge">loadExtension()</code> method.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$engine</span><span class="o">-&gt;</span><span class="na">loadExtension</span><span class="p">(</span><span class="k">new</span> <span class="nx">ChangeCase</span><span class="p">());</span>
</code></pre></div></div>

<h2 id="accessing-the-engine-and-template">Accessing the engine and template</h2>

<p>It may be desirable to access the <code class="highlighter-rouge">engine</code> or <code class="highlighter-rouge">template</code> objects from within your extension. Plates makes both of these objects available to you. The engine is automatically passed to the <code class="highlighter-rouge">register()</code> method, and the template is assigned as a parameter on each function call.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nx">League\Plates\Engine</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">League\Plates\Extension\ExtensionInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyExtension</span> <span class="k">implements</span> <span class="nx">ExtensionInterface</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$engine</span><span class="p">;</span>
    <span class="k">public</span> <span class="nv">$template</span><span class="p">;</span> <span class="c1">// must be public
</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">register</span><span class="p">(</span><span class="nx">Engine</span> <span class="nv">$engine</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">engine</span> <span class="o">=</span> <span class="nv">$engine</span><span class="p">;</span>

        <span class="c1">// Access template data:
</span>        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">template</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">();</span>

        <span class="c1">// Register functions
</span>        <span class="c1">// ...
</span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

    </article>
</main>

<footer>
    <span>&copy; Copyright <a href="http://thephpleague.com">The League of Extraordinary Packages</a>.</span>
    <span>Site design by <a href="http://reinink.ca">Jonathan Reinink</a>.</span>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://theme.thephpleague.com/js/scripts.js"></script>
<script src="http://theme.thephpleague.com/js/prism.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script>
$('select.select2').select2().on('change', function(e) {
    var pathParts = window.location.pathname.split("/");
    pathParts[1] = e.currentTarget.value;
    window.location.href = pathParts.join("/");
});
</script>


    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-46050814-2');ga('send','pageview');
    </script>


</body>
</html>
